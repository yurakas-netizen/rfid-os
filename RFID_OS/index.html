<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RFID OS v4.0 | Master Hub</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>

<div class="container">
    <header>
        <div class="logo">
            <h1>üõ∞Ô∏è RFID OS v4.0</h1>
            <p>–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏–π —Ü–µ–Ω—Ç—Ä —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–Ω–∞–Ω–Ω—è–º–∏</p>
        </div>
        <div class="header-actions">
            <button class="btn" id="createModuleBtn">
                <span>+</span> –ù–æ–≤–∏–π –º–æ–¥—É–ª—å
            </button>
            <button class="btn btn-export" id="exportAllBtn">
                üì§ –ï–∫—Å–ø–æ—Ä—Ç –≤—Å—ñ—Ö
            </button>
            <button class="btn btn-import" id="importBtn">
                üì• –Ü–º–ø–æ—Ä—Ç
            </button>
            <button class="btn btn-bulk" id="bulkModeBtn">
                ‚ö° –ì—Ä—É–ø–ø–æ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó
            </button>
        </div>
    </header>

    <div class="search-section">
        <input type="text" class="search-bar" id="search" placeholder="–ü–æ—à—É–∫ –ø–æ –Ω–∞–∑–≤—ñ, –æ–ø–∏—Å—É –∞–±–æ —Ç–µ–≥–∞—Ö...">
        
        <div class="filters">
            <select class="filter-select" id="categoryFilter">
                <option value="">–í—Å—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó</option>
                <option value="–ü—Ä–æ–º–ø—Ç–∏">–ü—Ä–æ–º–ø—Ç–∏</option>
                <option value="–ö–æ–¥">–ö–æ–¥</option>
                <option value="–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥">–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥</option>
                <option value="–î–∏–∑–∞–π–Ω">–î–∏–∑–∞–π–Ω</option>
                <option value="–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞">–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞</option>
            </select>
            
            <select class="filter-select" id="statusFilter">
                <option value="">–í—Å—ñ —Å—Ç–∞—Ç—É—Å–∏</option>
                <option value="active">–ê–∫—Ç–∏–≤–Ω–∏–π</option>
                <option value="draft">–ß–µ—Ä–Ω–µ—Ç–∫–∞</option>
                <option value="archived">–ê—Ä—Ö—ñ–≤–Ω–∏–π</option>
            </select>
            
            <select class="filter-select" id="sortBy">
                <option value="name">–°–æ—Ä—Ç—É–≤–∞—Ç–∏: –ó–∞ –Ω–∞–∑–≤–æ—é</option>
                <option value="createdAt">–°–æ—Ä—Ç—É–≤–∞—Ç–∏: –ó–∞ –¥–∞—Ç–æ—é —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è</option>
                <option value="updatedAt">–°–æ—Ä—Ç—É–≤–∞—Ç–∏: –ó–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º</option>
                <option value="version">–°–æ—Ä—Ç—É–≤–∞—Ç–∏: –ó–∞ –≤–µ—Ä—Å—ñ—î—é</option>
            </select>
            
            <select class="filter-select" id="sortOrder">
                <option value="asc">‚Üë –ó–∞ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è–º</option>
                <option value="desc">‚Üì –ó–∞ —Å–ø–∞–¥–∞–Ω–Ω—è–º</option>
            </select>
        </div>
    </div>

    <!-- Bulk Actions Panel -->
    <div class="bulk-actions" id="bulkActions">
        <div class="bulk-info">
            <span id="selectedCount">0</span> –º–æ–¥—É–ª—ñ–≤ –≤–∏–±—Ä–∞–Ω–æ
        </div>
        <div class="bulk-buttons">
            <button class="btn-sm" id="bulkExportBtn">üì§ –ï–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –≤–∏–±—Ä–∞–Ω—ñ</button>
            <button class="btn-sm" id="bulkArchiveBtn">üìÅ –ê—Ä—Ö—ñ–≤—É–≤–∞—Ç–∏ –≤–∏–±—Ä–∞–Ω—ñ</button>
            <button class="btn-sm btn-delete" id="bulkDeleteBtn">üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏ –≤–∏–±—Ä–∞–Ω—ñ</button>
            <button class="btn-sm" id="clearSelectionBtn">‚úñÔ∏è –°–∫–∞—Å—É–≤–∞—Ç–∏ –≤–∏–±—ñ—Ä</button>
        </div>
    </div>
	    <!-- Smart Export Selector -->
    <div class="export-format-selector" id="exportFormatSelector">
        <div class="selector-header">
            <div class="selector-title">üì§ Smart Export</div>
            <button class="btn-sm" onclick="hideExportSelector()">‚úñÔ∏è –°–∫—Ä—ã—Ç—å</button>
        </div>
        <div class="selector-controls">
            <select class="filter-select" id="exportFormatSelect">
                <option value="chatgpt">ü§ñ ChatGPT</option>
                <option value="claude">üë®‚Äçüíº Claude</option>
                <option value="gemini">üî∑ Gemini</option>
                <option value="deepseek">üß† DeepSeek</option>
                <option value="copilot">üë®‚Äçüíª Copilot</option>
                <option value="grok">üòé Grok</option>
                <option value="llama">ü¶ô Llama</option>
                <option value="mistral">üå¨Ô∏è Mistral</option>
                <option value="perplexity">üîç Perplexity</option>
                <option value="jsonl">üìä JSONL –¥–ª—è –æ–±—É—á–µ–Ω–∏—è</option>
                <option value="universal">üìÑ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π Markdown</option>
            </select>
            <button class="btn-sm" onclick="previewExport()">üëÅÔ∏è –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</button>
            <button class="btn-sm btn-export" onclick="executeExport()">üì§ –≠–∫—Å–ø–æ—Ä—Ç</button>
        </div>
        <div class="format-description" id="exportFormatDescription">
            –≠–∫—Å–ø–æ—Ä—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
        </div>
    </div>
    <div class="grid" id="moduleGrid">
        <!-- Cards will be rendered here -->
    </div>
</div>

<!-- Create/Edit Modal -->
<div class="modal" id="moduleModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="modalTitle">–î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π –º–æ–¥—É–ª—å</h2>
            <button class="close-modal" id="closeModuleModal">√ó</button>
        </div>
        
        <form id="moduleForm">
            <input type="hidden" id="moduleId">
            <input type="hidden" id="filePath">
            
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label" for="name">–ù–∞–∑–≤–∞ –º–æ–¥—É–ª—è *</label>
                    <input type="text" id="name" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –ê—Ä—Ö—ñ—Ç–µ–∫—Ç–æ—Ä –¢–ó" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="icon">–Ü–∫–æ–Ω–∫–∞ (–µ–º–æ–¥–∑—ñ)</label>
                    <input type="text" id="icon" placeholder="üèóÔ∏è" value="üìÑ" maxlength="2">
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label" for="description">–û–ø–∏—Å –º–æ–¥—É–ª—è</label>
                <textarea id="description" placeholder="–ö–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –º–æ–¥—É–ª—è..."></textarea>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label" for="category">–ö–∞—Ç–µ–≥–æ—Ä—ñ—è *</label>
                    <select id="category" required>
                        <option value="">–û–±–µ—Ä—ñ—Ç—å –∫–∞—Ç–µ–≥–æ—Ä—ñ—é</option>
                        <option value="–ü—Ä–æ–º–ø—Ç–∏">–ü—Ä–æ–º–ø—Ç–∏</option>
                        <option value="–ö–æ–¥">–ö–æ–¥</option>
                        <option value="–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥">–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥</option>
                        <option value="–î–∏–∑–∞–π–Ω">–î–∏–∑–∞–π–Ω</option>
                        <option value="–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞">–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="status">–°—Ç–∞—Ç—É—Å *</label>
                    <select id="status" required>
                        <option value="active">–ê–∫—Ç–∏–≤–Ω–∏–π</option>
                        <option value="draft">–ß–µ—Ä–Ω–µ—Ç–∫–∞</option>
                        <option value="archived">–ê—Ä—Ö—ñ–≤–Ω–∏–π</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="version">–í–µ—Ä—Å—ñ—è *</label>
                    <input type="text" id="version" placeholder="1.0.0" value="1.0.0" required>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label" for="tags">–¢–µ–≥–∏</label>
                <input type="text" id="tags" placeholder="–í–≤–µ–¥—ñ—Ç—å —Ç–µ–≥–∏ —á–µ—Ä–µ–∑ –∫–æ–º—É">
                <small class="text-muted">–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –¢–ó, –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞, —Å–∏—Å—Ç–µ–º–∞</small>
            </div>
                        <!-- LLM Profile Section -->
            <div class="llm-profile-section">
                <div class="llm-profile-title">üß† –ù–∞—Å—Ç—Ä–æ–π–∫–∏ LLM</div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="llmFamily">–°—ñ–º–µ–π—Å—Ç–≤–æ LLM</label>
                        <select id="llmFamily">
                            <option value="">–ù–µ –≤–∫–∞–∑–∞–Ω–æ</option>
                            <option value="chatgpt">ü§ñ ChatGPT</option>
                            <option value="claude">üë®‚Äçüíº Claude</option>
                            <option value="gemini">üî∑ Gemini</option>
                            <option value="deepseek">üß† DeepSeek</option>
                            <option value="copilot">üë®‚Äçüíª Copilot</option>
                            <option value="grok">üòé Grok</option>
                            <option value="llama">ü¶ô Llama</option>
                            <option value="mistral">üå¨Ô∏è Mistral</option>
                            <option value="perplexity">üîç Perplexity</option>
                            <option value="custom">üîß Custom</option>
                            <option value="universal">üåê Universal</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="llmTemperature">–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞</label>
                        <div class="temperature-control">
                            <input type="range" id="llmTemperature" class="temperature-slider" 
                                   min="0" max="2" step="0.1" value="0.7">
                            <span class="temperature-value" id="llmTemperatureValue">0.7</span>
                        </div>
                        <small class="llm-variant-hint">–í—ñ–¥ 0 (—Ç–æ—á–Ω—ñ—à–µ) –¥–æ 2 (–∫—Ä–µ–∞—Ç–∏–≤–Ω—ñ—à–µ)</small>
                    </div>
                </div>
                
                <div class="form-group" id="customVariantSection" style="display: none;">
                    <label class="form-label" for="llmVariant">–í–∞—Ä—ñ–∞–Ω—Ç –º–æ–¥–µ–ª—ñ</label>
                    <input type="text" id="llmVariant" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: gpt-4-turbo, claude-3-sonnet">
                    <small class="llm-variant-hint">–í–∫–∞–∂—ñ—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É –≤–µ—Ä—Å—ñ—é –º–æ–¥–µ–ª—ñ –¥–ª—è Custom</small>
                </div>
            </div>
            <div class="form-group">
                <label class="form-label" for="content">–ö–æ–Ω—Ç–µ–Ω—Ç (–ø—Ä–æ–º–ø—Ç/–∫–æ–¥) *</label>
                <textarea id="content" rows="10" placeholder="–í—Å—Ç–∞–≤—Ç–µ —Ç–µ–∫—Å—Ç –ø—Ä–æ–º–ø—Ç—É, –∫–æ–¥ –∞–±–æ —ñ–Ω—à–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç —Ç—É—Ç..." required></textarea>
            </div>
            
            <div class="form-group">
                <label class="form-label" for="filePathInput">–®–ª—è—Ö –¥–æ —Ñ–∞–π–ª—É</label>
                <div style="display: flex; gap: 10px;">
                    <input type="text" id="filePathInput" placeholder="modules/my-module.json" style="flex: 1;">
                    <button type="button" class="btn-sm" id="generateFilePathBtn">–ê–≤—Ç–æ</button>
                </div>
                <small class="text-muted">–ó–∞–ª–∏—à—Ç–µ –ø–æ—Ä–æ–∂–Ω—ñ–º –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è</small>
            </div>
            
            <div class="modal-actions">
                <button type="submit" class="btn" id="submitBtn">–ó–±–µ—Ä–µ–≥—Ç–∏ –º–æ–¥—É–ª—å</button>
                <button type="button" class="btn-sm" id="cancelModuleBtn">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
            </div>
        </form>
    </div>
</div>

<!-- View Modal -->
<div class="modal" id="viewModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="viewTitle"></h2>
            <button class="close-modal" id="closeViewModal">√ó</button>
        </div>
        
        <div class="modal-body" id="viewContent"></div>
        
        <div class="modal-actions">
            <button class="btn" id="copyContentBtn">
                üìã –ö–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–Ω—Ç–µ–Ω—Ç
            </button>
            <button class="btn btn-edit" id="editCurrentModuleBtn">
                ‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞—Ç–∏
            </button>
            <button class="btn-sm" id="closeViewBtn">
                –ó–∞–∫—Ä–∏—Ç–∏
            </button>
        </div>
    </div>
</div>
<!-- Export Preview Modal -->
<div class="modal" id="exportPreviewModal">
    <div class="modal-content" style="max-width: 900px;">
        <div class="modal-header">
            <h2 class="modal-title" id="exportPreviewTitle">–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —ç–∫—Å–ø–æ—Ä—Ç–∞</h2>
            <button class="close-modal" onclick="closeExportPreview()">√ó</button>
        </div>
        <div class="modal-body">
            <div class="export-info">
                <div><strong>–§–æ—Ä–º–∞—Ç:</strong> <span id="previewFormatName"></span></div>
                <div><strong>–ú–æ–¥—É–ª–µ–π:</strong> <span id="previewModuleCount"></span></div>
                <div><strong>–†–∞–∑–º–µ—Ä:</strong> <span id="previewSize"></span> KB</div>
            </div>
            <pre id="exportPreviewContent"></pre>
        </div>
        <div class="modal-actions">
            <button class="btn" onclick="downloadExport()">üì• –°–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª</button>
            <button class="btn-sm" onclick="copyExportPreview()">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
            <button class="btn-sm" onclick="closeExportPreview()">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>
</div>
<!-- Toast Notification -->
<div class="toast" id="toast"></div>

<!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@yaireo/tagify/dist/tagify.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@yaireo/tagify/dist/tagify.polyfills.min.js"></script>
<script src="scripts/export-llm.js"></script>
<script src="scripts/llm-profile.js"></script>
<!-- –ù–∞—à–∏ —Å–∫—Ä–∏–ø—Ç—ã -->
<script src="scripts/storage.js"></script>
<script src="scripts/markdown.js"></script>
<script src="scripts/tags.js"></script>
<script src="scripts/export-llm.js"></script>
<script src="scripts/llm-profile.js"></script>
<script src="scripts/app.js"></script>

</body>
</html>