<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RFID OS v4.0 | Master Hub</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>

<div class="container">
    <header>
        <div class="logo">
            <h1>üõ∞Ô∏è RFID OS v4.0</h1>
            <p>–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏–π —Ü–µ–Ω—Ç—Ä —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–Ω–∞–Ω–Ω—è–º–∏</p>
        </div>
        <div class="header-actions">
            <button class="btn" id="createModuleBtn">
                <span>+</span> –ù–æ–≤–∏–π –º–æ–¥—É–ª—å
            </button>
            <button class="btn btn-export" id="exportAllBtn">
                üì§ –ï–∫—Å–ø–æ—Ä—Ç –≤—Å—ñ—Ö
            </button>
            <button class="btn btn-import" id="importBtn">
                üì• –Ü–º–ø–æ—Ä—Ç
            </button>
            <button class="btn btn-bulk" id="bulkModeBtn">
                ‚ö° –ì—Ä—É–ø–ø–æ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó
            </button>
        </div>
    </header>

    <div class="search-section">
        <input type="text" class="search-bar" id="search" placeholder="–ü–æ—à—É–∫ –ø–æ –Ω–∞–∑–≤—ñ, –æ–ø–∏—Å—É –∞–±–æ —Ç–µ–≥–∞—Ö...">
        
        <div class="filters">
            <select class="filter-select" id="categoryFilter">
                <option value="">–í—Å—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó</option>
                <option value="–ü—Ä–æ–º–ø—Ç–∏">–ü—Ä–æ–º–ø—Ç–∏</option>
                <option value="–ö–æ–¥">–ö–æ–¥</option>
                <option value="–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥">–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥</option>
                <option value="–î–∏–∑–∞–π–Ω">–î–∏–∑–∞–π–Ω</option>
                <option value="–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞">–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞</option>
            </select>
            
            <select class="filter-select" id="statusFilter">
                <option value="">–í—Å—ñ —Å—Ç–∞—Ç—É—Å–∏</option>
                <option value="active">–ê–∫—Ç–∏–≤–Ω–∏–π</option>
                <option value="draft">–ß–µ—Ä–Ω–µ—Ç–∫–∞</option>
                <option value="archived">–ê—Ä—Ö—ñ–≤–Ω–∏–π</option>
            </select>
            
            <select class="filter-select" id="sortBy">
                <option value="name">–°–æ—Ä—Ç—É–≤–∞—Ç–∏: –ó–∞ –Ω–∞–∑–≤–æ—é</option>
                <option value="createdAt">–°–æ—Ä—Ç—É–≤–∞—Ç–∏: –ó–∞ –¥–∞—Ç–æ—é —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è</option>
                <option value="updatedAt">–°–æ—Ä—Ç—É–≤–∞—Ç–∏: –ó–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º</option>
                <option value="version">–°–æ—Ä—Ç—É–≤–∞—Ç–∏: –ó–∞ –≤–µ—Ä—Å—ñ—î—é</option>
            </select>
            
            <select class="filter-select" id="sortOrder">
                <option value="asc">‚Üë –ó–∞ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è–º</option>
                <option value="desc">‚Üì –ó–∞ —Å–ø–∞–¥–∞–Ω–Ω—è–º</option>
            </select>
        </div>
    </div>

    <!-- Bulk Actions Panel -->
    <div class="bulk-actions" id="bulkActions">
        <div class="bulk-info">
            <span id="selectedCount">0</span> –º–æ–¥—É–ª—ñ–≤ –≤–∏–±—Ä–∞–Ω–æ
        </div>
        <div class="bulk-buttons">
            <button class="btn-sm" id="bulkExportBtn">üì§ –ï–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –≤–∏–±—Ä–∞–Ω—ñ</button>
            <button class="btn-sm" id="bulkArchiveBtn">üìÅ –ê—Ä—Ö—ñ–≤—É–≤–∞—Ç–∏ –≤–∏–±—Ä–∞–Ω—ñ</button>
            <button class="btn-sm btn-delete" id="bulkDeleteBtn">üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏ –≤–∏–±—Ä–∞–Ω—ñ</button>
            <button class="btn-sm" id="clearSelectionBtn">‚úñÔ∏è –°–∫–∞—Å—É–≤–∞—Ç–∏ –≤–∏–±—ñ—Ä</button>
        </div>
    </div>

    <div class="grid" id="moduleGrid">
        <!-- Cards will be rendered here -->
    </div>
</div>

<!-- Create/Edit Modal -->
<div class="modal" id="moduleModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="modalTitle">–î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π –º–æ–¥—É–ª—å</h2>
            <button class="close-modal" id="closeModuleModal">√ó</button>
        </div>
        
        <form id="moduleForm">
            <input type="hidden" id="moduleId">
            <input type="hidden" id="filePath">
            
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label" for="name">–ù–∞–∑–≤–∞ –º–æ–¥—É–ª—è *</label>
                    <input type="text" id="name" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –ê—Ä—Ö—ñ—Ç–µ–∫—Ç–æ—Ä –¢–ó" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="icon">–Ü–∫–æ–Ω–∫–∞ (–µ–º–æ–¥–∑—ñ)</label>
                    <input type="text" id="icon" placeholder="üèóÔ∏è" value="üìÑ" maxlength="2">
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label" for="description">–û–ø–∏—Å –º–æ–¥—É–ª—è</label>
                <textarea id="description" placeholder="–ö–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –º–æ–¥—É–ª—è..."></textarea>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label" for="category">–ö–∞—Ç–µ–≥–æ—Ä—ñ—è *</label>
                    <select id="category" required>
                        <option value="">–û–±–µ—Ä—ñ—Ç—å –∫–∞—Ç–µ–≥–æ—Ä—ñ—é</option>
                        <option value="–ü—Ä–æ–º–ø—Ç–∏">–ü—Ä–æ–º–ø—Ç–∏</option>
                        <option value="–ö–æ–¥">–ö–æ–¥</option>
                        <option value="–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥">–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥</option>
                        <option value="–î–∏–∑–∞–π–Ω">–î–∏–∑–∞–π–Ω</option>
                        <option value="–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞">–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="status">–°—Ç–∞—Ç—É—Å *</label>
                    <select id="status" required>
                        <option value="active">–ê–∫—Ç–∏–≤–Ω–∏–π</option>
                        <option value="draft">–ß–µ—Ä–Ω–µ—Ç–∫–∞</option>
                        <option value="archived">–ê—Ä—Ö—ñ–≤–Ω–∏–π</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="version">–í–µ—Ä—Å—ñ—è *</label>
                    <input type="text" id="version" placeholder="1.0.0" value="1.0.0" required>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label" for="tags">–¢–µ–≥–∏</label>
                <input type="text" id="tags" placeholder="–í–≤–µ–¥—ñ—Ç—å —Ç–µ–≥–∏ —á–µ—Ä–µ–∑ –∫–æ–º—É">
                <small class="text-muted">–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –¢–ó, –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞, —Å–∏—Å—Ç–µ–º–∞</small>
            </div>
            
            <div class="form-group">
                <label class="form-label" for="content">–ö–æ–Ω—Ç–µ–Ω—Ç (–ø—Ä–æ–º–ø—Ç/–∫–æ–¥) *</label>
                <textarea id="content" rows="10" placeholder="–í—Å—Ç–∞–≤—Ç–µ —Ç–µ–∫—Å—Ç –ø—Ä–æ–º–ø—Ç—É, –∫–æ–¥ –∞–±–æ —ñ–Ω—à–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç —Ç—É—Ç..." required></textarea>
            </div>
            
            <div class="form-group">
                <label class="form-label" for="filePathInput">–®–ª—è—Ö –¥–æ —Ñ–∞–π–ª—É</label>
                <div style="display: flex; gap: 10px;">
                    <input type="text" id="filePathInput" placeholder="modules/my-module.json" style="flex: 1;">
                    <button type="button" class="btn-sm" id="generateFilePathBtn">–ê–≤—Ç–æ</button>
                </div>
                <small class="text-muted">–ó–∞–ª–∏—à—Ç–µ –ø–æ—Ä–æ–∂–Ω—ñ–º –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è</small>
            </div>
            
            <div class="modal-actions">
                <button type="submit" class="btn" id="submitBtn">–ó–±–µ—Ä–µ–≥—Ç–∏ –º–æ–¥—É–ª—å</button>
                <button type="button" class="btn-sm" id="cancelModuleBtn">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
            </div>
        </form>
    </div>
</div>

<!-- View Modal -->
<div class="modal" id="viewModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="viewTitle"></h2>
            <button class="close-modal" id="closeViewModal">√ó</button>
        </div>
        
        <div class="modal-body" id="viewContent"></div>
        
        <div class="modal-actions">
            <button class="btn" id="copyContentBtn">
                üìã –ö–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–Ω—Ç–µ–Ω—Ç
            </button>
            <button class="btn btn-edit" id="editCurrentModuleBtn">
                ‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞—Ç–∏
            </button>
            <button class="btn-sm" id="closeViewBtn">
                –ó–∞–∫—Ä–∏—Ç–∏
            </button>
        </div>
    </div>
</div>

<!-- Toast Notification -->
<div class="toast" id="toast"></div>

<!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@yaireo/tagify/dist/tagify.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@yaireo/tagify/dist/tagify.polyfills.min.js"></script>

<!-- –ù–∞—à–∏ —Å–∫—Ä–∏–ø—Ç—ã -->
<script src="scripts/storage.js"></script>
<script src="scripts/markdown.js"></script>
<script src="scripts/tags.js"></script>
<script src="scripts/app.js"></script>

</body>
</html>